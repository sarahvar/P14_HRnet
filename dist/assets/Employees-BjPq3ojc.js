import{j as e,r as p,e as L,L as z}from"./index-BwBH0xcQ.js";import{P as t}from"./index-yjjqAJGJ.js";const y=()=>`_${crypto.getRandomValues(new Uint32Array(1))[0].toString(36)}`,g=s=>s?s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim():"";function q({value:s,handleChange:a}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"table-utils-1",children:[e.jsx("label",{htmlFor:"choose-entries",children:"Show: "}),e.jsxs("select",{name:"choose-entries",id:"choose-entries",value:s,onChange:n=>a(n),children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsx("span",{children:" entries"})]})})}q.propTypes={value:t.number.isRequired,handleChange:t.func.isRequired};function D({data:s,handleDisplayedData:a,handleIsSearching:n}){const o=r=>{const c=g(r.target.value);if(c.length>0){const i=s.filter(u=>Object.values(u).map(l=>g(l)).join(" ").includes(c));a(i),n(!0)}else a(s),n(!1)};return e.jsxs("div",{className:"table-utils-2",children:[e.jsx("label",{htmlFor:"dtb-search",children:"Search: "}),e.jsx("input",{type:"search",id:"dtb-search",name:"dtb-search",onChange:r=>o(r)})]})}D.propTypes={data:t.array.isRequired,handleDisplayedData:t.func.isRequired,handleIsSearching:t.func.isRequired};function C({labels:s,data:a,minRows:n,maxRows:o,handleSort:r,sort:c,sortedData:i}){const{column:u,isDesc:h}=c;return e.jsxs("table",{className:"table-main",children:[e.jsx("caption",{className:"table-title",children:"Current Employees"}),e.jsx("thead",{children:e.jsx("tr",{className:"table-header-row",children:s.map(l=>e.jsx("th",{className:"table-header-cells",onClick:()=>r(l.value),children:e.jsxs("div",{className:"table-header-cell",children:[e.jsx("span",{children:l.text}),e.jsxs("div",{className:"sort-icons",children:[e.jsx("div",{className:u===l.value?h?"sort-icons-up icon-up-inactive":"sort-icons-up icon-up-active":"sort-icons-up"}),e.jsx("div",{className:u===l.value?h?"sort-icons-down icon-down-active":"sort-icons-down icon-inactive":"sort-icons-down"})]})]})},y()))})}),e.jsxs("tbody",{children:[i.length===0&&e.jsx("tr",{children:e.jsx("td",{className:"nodata",colSpan:s.length,children:"No data available in table"})}),a.map((l,m)=>m+1>=n&&m<o?e.jsx("tr",{className:"dtb-table-row",children:Object.values(l).map((N,b)=>e.jsx("td",{className:b===0?"dtb-table-cell first-cell":"dtb-table-cell",children:N},y()))},y()):null)]})]})}C.propTypes={labels:t.array.isRequired,data:t.array.isRequired,sortedData:t.array.isRequired,sort:t.object.isRequired,minRows:t.number.isRequired,maxRows:t.number.isRequired,handleSort:t.func.isRequired};function T({minRows:s,maxRows:a,totalEntries:n,isSearching:o,minFilteredShow:r,maxFilteredShow:c,totalEntriesShow:i}){return e.jsx("div",{className:"table-footer",children:n===0?e.jsx("p",{className:"table-footer-p"}):[o?e.jsx("span",{className:"table-footer-p",children:`Showing ${r} to ${c} of ${i} entries (filtered from ${n} total entries)`},"entries-filtered"):e.jsx("span",{className:"table-footer-p",children:`Showing ${s} to ${a} of ${n} entries`},"entries")]})}T.propTypes={minRows:t.number.isRequired,maxRows:t.number.isRequired,totalEntries:t.number.isRequired,minFilteredShow:t.number.isRequired,maxFilteredShow:t.number.isRequired,totalEntriesShow:t.number.isRequired,isSearching:t.bool};function E({currentPage:s,totalEntries:a,displayedEntries:n,handleClick:o}){const r=Math.ceil(a/n),c=new Array(r).fill(0),i=()=>{s>1&&o(s-1)},u=()=>{s<r&&o(s+1)};return e.jsxs("div",{className:"pagination",children:[e.jsx("button",{type:"button",onClick:i,className:s===1?"number number-disabled":"number",children:"Previous"}),c.map((h,l)=>e.jsx("button",{type:"button",onClick:()=>o(l+1),className:s===l+1?"number number-active":"number",children:l+1},y())),e.jsx("button",{type:"button",onClick:u,className:s===r||a===0?"number number-disabled":"number",children:"Next"})]})}E.propTypes={currentPage:t.number.isRequired,totalEntries:t.number.isRequired,displayedEntries:t.number.isRequired,handleClick:t.func.isRequired};function P({labels:s,data:a}){const[n,o]=p.useState(1),[r,c]=p.useState(10),[i,u]=p.useState([]),[h,l]=p.useState(!1),[m,N]=p.useState({column:s[0]||"",isDesc:!0});p.useEffect(()=>{const d=w(m.column);u(d)},[m,a]);const b=n===1?1:(n-1)*r+1,S=n*r<a.length?n*r:a.length,F=n===1?i.length>0?1:0:(n-1)*r+1,$=n*r<i.length?n*r:i.length,k=d=>{c(parseInt(d.target.value)),o(1)},A=d=>{N(x=>{const j={column:d,isDesc:x.column===d?!x.isDesc:!1},R=w(j.column,j.isDesc);return u(R),j})},w=(d,x=m.isDesc)=>[...a].sort((R,I)=>{const v=g(R[d]),f=g(I[d]);return x?v<f?-1:v>f?1:0:v<f?1:v>f?-1:0});return e.jsxs("div",{className:"MyTable",children:[e.jsxs("div",{className:"table-utils",children:[e.jsx(q,{value:r,handleChange:k}),e.jsx(D,{data:a,handleDisplayedData:u,handleIsSearching:l})]}),e.jsx(C,{labels:s,data:i,minRows:b,maxRows:S,handleSort:A,sort:m,sortedData:i}),e.jsxs("div",{className:"table-footer",children:[e.jsx(T,{minRows:b,maxRows:S,totalEntries:a.length,isSearching:h,minFilteredShow:F,maxFilteredShow:$,totalEntriesShow:i.length}),e.jsx(E,{totalEntries:i.length,displayedEntries:r,handleClick:o,currentPage:n})]})]})}P.propTypes={labels:t.array.isRequired,data:t.array.isRequired};const M=[{text:"First Name",value:"firstName"},{text:"Last Name",value:"lastName"},{text:"Start Date",value:"startDate"},{text:"Department",value:"department"},{text:"Date of birth",value:"birthDate"},{text:"Street",value:"street"},{text:"City",value:"city"},{text:"State",value:"State"},{text:"Zip Code",value:"zipCode"}],O=M;function U(){const s=L(a=>a.employee.employees);return e.jsxs("div",{className:"employees",children:[e.jsx("div",{className:"table",children:e.jsx(P,{labels:O,data:s})}),e.jsx("div",{className:"employees-link",children:e.jsx(z,{to:"/",children:" â†© Home"})})]})}export{U as default};
