import{j as e,r as p,u as L,L as z}from"./index-BjDtdrx1.js";import{P as s}from"./index-BSYNSCfy.js";const f=()=>`_${crypto.getRandomValues(new Uint32Array(1))[0].toString(36)}`,y=t=>t?t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim():"";function R({value:t,handleChange:a}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"table-utils-1",children:[e.jsx("label",{htmlFor:"choose-entries",children:"Show: "}),e.jsxs("select",{name:"choose-entries",id:"choose-entries",value:t,onChange:l=>a(l),children:[e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsx("span",{children:" entries"})]})})}R.propTypes={value:s.number.isRequired,handleChange:s.func.isRequired};function q({data:t,handleDisplayedData:a,handleIsSearching:l}){const n=o=>{const r=y(o.target.value);if(r.length>0){const u=t.filter(i=>Object.values(i).map(c=>y(c)).join(" ").includes(r));a(u),l(!0)}else a(t),l(!1)};return e.jsxs("div",{className:"table-utils-2",children:[e.jsx("label",{htmlFor:"dtb-search",children:"Search: "}),e.jsx("input",{type:"search",id:"dtb-search",name:"dtb-search",onChange:o=>n(o)})]})}q.propTypes={data:s.array.isRequired,handleDisplayedData:s.func.isRequired,handleIsSearching:s.func.isRequired};function w({labels:t,data:a,minRows:l,maxRows:n,handleSort:o,sort:r,sortedData:u}){const{column:i,isDesc:h}=r;return e.jsxs("table",{className:"table-main",children:[e.jsx("caption",{className:"table-title",children:"Current Employees"}),e.jsx("thead",{children:e.jsx("tr",{className:"table-header-row",children:t.map(c=>e.jsx("th",{className:"table-header-cells",onClick:()=>o(c.value),children:e.jsxs("div",{className:"table-header-cell",children:[e.jsx("span",{children:c.text}),e.jsxs("div",{className:"sort-icons",children:[e.jsx("div",{className:i===c.value?h?"sort-icons-up icon-up-inactive":"sort-icons-up icon-up-active":"sort-icons-up"}),e.jsx("div",{className:i===c.value?h?"sort-icons-down icon-down-active":"sort-icons-down icon-inactive":"sort-icons-down"})]})]})},f()))})}),e.jsxs("tbody",{children:[u.length===0&&e.jsx("tr",{children:e.jsx("td",{className:"nodata",colSpan:t.length,children:"No data available in table"})}),a.map((c,b)=>b+1>=l&&b<n?e.jsx("tr",{className:"dtb-table-row",children:Object.values(c).map((m,x)=>e.jsx("td",{className:x===0?"dtb-table-cell first-cell":"dtb-table-cell",children:m},f()))},f()):null)]})]})}w.propTypes={labels:s.array.isRequired,data:s.array.isRequired,sortedData:s.array.isRequired,sort:s.object.isRequired,minRows:s.number.isRequired,maxRows:s.number.isRequired,handleSort:s.func.isRequired};function D({minRows:t,maxRows:a,totalEntries:l,isSearching:n,minFilteredShow:o,maxFilteredShow:r,totalEntriesShow:u}){return e.jsx("div",{className:"table-footer",children:l===0?e.jsx("p",{className:"table-footer-p"}):[n?e.jsx("span",{className:"table-footer-p",children:`Showing ${o} to ${r} of ${u} entries (filtered from ${l} total entries)`},"entries-filtered"):e.jsx("span",{className:"table-footer-p",children:`Showing ${t} to ${a} of ${l} entries`},"entries")]})}D.propTypes={minRows:s.number.isRequired,maxRows:s.number.isRequired,totalEntries:s.number.isRequired,minFilteredShow:s.number.isRequired,maxFilteredShow:s.number.isRequired,totalEntriesShow:s.number.isRequired,isSearching:s.bool};function C({currentPage:t,totalEntries:a,displayedEntries:l,handleClick:n}){const o=Math.ceil(a/l),r=new Array(o).fill(0),u=()=>{t>1&&n(t-1)},i=()=>{t<o&&n(t+1)};return e.jsxs("div",{className:"pagination",children:[e.jsx("button",{type:"button",onClick:u,className:t===1?"number number-disabled":"number",children:"Previous"}),r.map((h,c)=>e.jsx("button",{type:"button",onClick:()=>n(c+1),className:t===c+1?"number number-active":"number",children:c+1},f())),e.jsx("button",{type:"button",onClick:i,className:t===o||a===0?"number number-disabled":"number",children:"Next"})]})}C.propTypes={currentPage:s.number.isRequired,totalEntries:s.number.isRequired,displayedEntries:s.number.isRequired,handleClick:s.func.isRequired};function T({labels:t,data:a}){const l=a,[n,o]=p.useState(1),[r,u]=p.useState(10),[i,h]=p.useState(l),[c,b]=p.useState(!1),[m,x]=p.useState({column:"",isDesc:!0}),g=n===1?1:(n-1)*r+1,N=n*r<a.length?n*r:a.length,E=n===1?i.length>0?1:0:(n-1)*r+1,P=n*r<i.length?n*r:i.length,F=d=>{u(parseInt(d.target.value)),o(1)},$=d=>{m.column===d?x({...m,isDesc:!m.isDesc}):x({column:d,isDesc:!1});const S=k(d);h(S)},k=d=>i.sort((A,I)=>{const j=y(A[d]),v=y(I[d]);if(m.isDesc){if(j<v)return-1;if(j>v)return 1}else{if(j<v)return 1;if(j>v)return-1}return 0});return e.jsxs("div",{className:"MyTable",children:[e.jsxs("div",{className:"table-utils",children:[e.jsx(R,{value:r,handleChange:F}),e.jsx(q,{data:a,handleDisplayedData:h,handleIsSearching:b})]}),e.jsx(w,{labels:t,data:i,minRows:g,maxRows:N,handleSort:$,sort:m,sortedData:i}),e.jsxs("div",{className:"table-footer",children:[e.jsx(D,{minRows:g,maxRows:N,totalEntries:a.length,isSearching:c,minFilteredShow:E,maxFilteredShow:P,totalEntriesShow:i.length}),e.jsx(C,{totalEntries:i.length,displayedEntries:r,handleClick:o,currentPage:n})]})]})}T.propTypes={labels:s.array.isRequired,data:s.array.isRequired};const M=[{text:"First Name",value:"firstName"},{text:"Last Name",value:"lastName"},{text:"Start Date",value:"startDate"},{text:"Department",value:"department"},{text:"Date of birth",value:"birthDate"},{text:"Street",value:"street"},{text:"City",value:"city"},{text:"State",value:"State"},{text:"Zip Code",value:"zipCode"}],O=M;function U(){const t=L(a=>a.employee.employees);return e.jsxs("div",{className:"employees",children:[e.jsx("div",{className:"table",children:e.jsx(T,{labels:O,data:t})}),e.jsx("div",{className:"employees-link",children:e.jsx(z,{to:"/",children:" â†© Home"})})]})}export{U as default};
