import{g as z,j as t,r as v,f as U,L as H}from"./index-B8AaMZB_.js";import{d as V}from"./dataStates-DZPNwSyZ.js";var E={exports:{}},Y="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Z=Y,G=Z;function P(){}function F(){}F.resetWarningCache=P;var J=function(){function e(u,o,d,a,m,x){if(x!==G){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function r(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:F,resetWarningCache:P};return n.PropTypes=n,n};E.exports=J();var K=E.exports;const s=z(K);function O({value:e,handleChange:r}){return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"table-utils-1",children:[t.jsx("label",{htmlFor:"choose-entries",children:"Show: "}),t.jsxs("select",{name:"choose-entries",id:"choose-entries",value:e,onChange:n=>r(n),children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsx("span",{children:" entries"})]})})}O.propTypes={value:s.number.isRequired,handleChange:s.func.isRequired};const Q=()=>`_${crypto.getRandomValues(new Uint32Array(1))[0].toString(36)}`,D=e=>e?e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim():"";function k({data:e,handleDisplayedData:r,handleIsSearching:n}){const u=o=>{const d=D(o.target.value);if(d.length>0){const a=e.filter(m=>Object.values(m).map(p=>D(p)).join(" ").includes(d));r(a),n(!0)}else r(e),n(!1)};return t.jsxs("div",{className:"table-utils-2",children:[t.jsx("label",{htmlFor:"dtb-search",children:"Search: "}),t.jsx("input",{type:"search",id:"dtb-search",name:"dtb-search",onChange:o=>u(o)})]})}k.propTypes={data:s.array.isRequired,handleDisplayedData:s.func.isRequired,handleIsSearching:s.func.isRequired};const _=({labels:e,data:r,minRows:n,maxRows:u,handleSort:o,sort:d})=>t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsx("tr",{children:e.map(a=>t.jsxs("th",{onClick:()=>o(a.value),children:[a.text,d.column===a.value?d.isDesc?" ðŸ”½":" ðŸ”¼":" â†•"]},a.value))})}),t.jsx("tbody",{children:r.map((a,m)=>t.jsx("tr",{children:e.map(x=>t.jsx("td",{children:a[x.value]},x.value))},m))})]});_.propTypes={labels:s.arrayOf(s.shape({text:s.string.isRequired,value:s.string.isRequired})).isRequired,data:s.arrayOf(s.object).isRequired,minRows:s.number.isRequired,maxRows:s.number.isRequired,handleSort:s.func.isRequired,sort:s.shape({column:s.string.isRequired,isDesc:s.bool.isRequired}).isRequired};const X=_,I=({minRows:e,maxRows:r,totalEntries:n,isSearching:u,minFilteredShow:o,maxFilteredShow:d,totalEntriesShow:a})=>t.jsx("div",{className:"table-footer",children:u?t.jsxs("div",{children:["Showing ",o," to ",d," of ",a," entries (filtered from ",n," total entries)"]}):t.jsxs("div",{children:["Showing ",e," to ",r," of ",n," entries"]})});I.propTypes={minRows:s.number.isRequired,maxRows:s.number.isRequired,totalEntries:s.number.isRequired,isSearching:s.bool.isRequired,minFilteredShow:s.number.isRequired,maxFilteredShow:s.number.isRequired,totalEntriesShow:s.number.isRequired};const ee=I;function A({currentPage:e,totalEntries:r,displayedEntries:n,handleClick:u}){const o=Math.ceil(r/n),d=new Array(o).fill(0),a=()=>{e>1&&u(e-1)},m=()=>{e<o&&u(e+1)};return t.jsxs("div",{className:"pagination",children:[t.jsx("button",{type:"button",onClick:a,className:e===1?"number number-disabled":"number",children:"Previous"}),d.map((x,p)=>t.jsx("button",{type:"button",onClick:()=>u(p+1),className:e===p+1?"number number-active":"number",children:p+1},Q())),t.jsx("button",{type:"button",onClick:m,className:e===o||r===0?"number number-disabled":"number",children:"Next"})]})}A.propTypes={currentPage:s.number.isRequired,totalEntries:s.number.isRequired,displayedEntries:s.number.isRequired,handleClick:s.func.isRequired};const T=V.reduce((e,r,n)=>(e[r.label]=n,e),{});function L({labels:e,data:r}){const[n,u]=v.useState(1),[o,d]=v.useState(10),[a,m]=v.useState([]),[x,p]=v.useState(!1),[R,B]=v.useState({column:e[0].value||"",isDesc:!1});v.useEffect(()=>{const i=N(R.column,R.isDesc);m(i)},[R,r]);const j=n===1?1:(n-1)*o+1,g=n*o<a.length?n*o:a.length,W=i=>{d(parseInt(i.target.value)),u(1)},$=i=>{B(h=>{const S={column:i,isDesc:h.column===i?!h.isDesc:!1},b=N(S.column,S.isDesc);return m(b),S})},N=(i,h)=>[...r].sort((b,q)=>{let f=b[i]!==void 0&&b[i]!==null?b[i]:"",y=q[i]!==void 0&&q[i]!==null?q[i]:"";if(i==="state"){const l=T[f]!==void 0?T[f]:-1,c=T[y]!==void 0?T[y]:-1;return l===-1?h?1:-1:c===-1?h?-1:1:h?c-l:l-c}if(i==="birthDate"||i==="startDate"){const l=new Date(f).getTime(),c=new Date(y).getTime();return h?c-l:l-c}if(i==="street"){const l=M=>{const C=M.match(/(\d+)/);return C?parseInt(C[0],10):0},c=l(f),w=l(y);return h?w-c:c-w}if(i==="firstName"||i==="lastName"){const l=f.toLowerCase(),c=y.toLowerCase();return h?l<c?1:l>c?-1:0:l<c?-1:l>c?1:0}return h?f>y?-1:1:f>y?1:-1});return t.jsxs("div",{className:"MyTable",children:[t.jsxs("div",{className:"table-utils",children:[t.jsx(O,{value:o,handleChange:W}),t.jsx(k,{data:r,handleDisplayedData:m,handleIsSearching:p})]}),t.jsx(X,{labels:e,data:a.slice(j-1,g),minRows:j,maxRows:g,handleSort:$,sort:R}),t.jsxs("div",{className:"table-footer",children:[t.jsx(ee,{minRows:j,maxRows:g,totalEntries:r.length,isSearching:x,minFilteredShow:j,maxFilteredShow:g,totalEntriesShow:a.length}),t.jsx(A,{totalEntries:a.length,displayedEntries:o,handleClick:u,currentPage:n})]})]})}L.propTypes={labels:s.arrayOf(s.shape({text:s.string.isRequired,value:s.string.isRequired})).isRequired,data:s.arrayOf(s.object).isRequired};const te=[{text:"First Name",value:"firstName"},{text:"Last Name",value:"lastName"},{text:"Start Date",value:"startDate"},{text:"Department",value:"department"},{text:"Date of birth",value:"birthDate"},{text:"Street",value:"street"},{text:"City",value:"city"},{text:"State",value:"state"},{text:"Zip Code",value:"zipCode"}],se=te;function ae(){const e=U(r=>r.employee.employees);return t.jsxs("div",{className:"employees",children:[t.jsx("h1",{className:"page-title",children:"Current Employees"})," ",t.jsx("div",{className:"table",children:t.jsx(L,{labels:se,data:e})}),t.jsx("div",{className:"employees-link",children:t.jsx(H,{to:"/",className:"home-link",children:" â†© Home"})})]})}export{ae as default};
