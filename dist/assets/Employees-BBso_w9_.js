import{g as Y,j as t,r as b,f as Z,L as G}from"./index-Bo_z_ouI.js";import{d as J}from"./dataStates-DZPNwSyZ.js";var O={exports:{}},K="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Q=K,X=Q;function k(){}function _(){}_.resetWarningCache=k;var ee=function(){function e(d,i,m,o,h,f){if(f!==X){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}e.isRequired=e;function r(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:_,resetWarningCache:k};return a.PropTypes=a,a};O.exports=ee();var te=O.exports;const s=Y(te);function I({value:e,handleChange:r}){return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"table-utils-1",children:[t.jsx("label",{htmlFor:"choose-entries",children:"Show: "}),t.jsxs("select",{name:"choose-entries",id:"choose-entries",value:e,onChange:a=>r(a),children:[t.jsx("option",{value:"10",children:"10"}),t.jsx("option",{value:"25",children:"25"}),t.jsx("option",{value:"50",children:"50"}),t.jsx("option",{value:"100",children:"100"})]}),t.jsx("span",{children:" entries"})]})})}I.propTypes={value:s.number.isRequired,handleChange:s.func.isRequired};const se=()=>`_${crypto.getRandomValues(new Uint32Array(1))[0].toString(36)}`,F=e=>e?e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim():"";function A({data:e,handleDisplayedData:r,handleIsSearching:a}){const d=i=>{const m=F(i.target.value);if(m.length>0){const o=e.filter(h=>Object.values(h).map(x=>F(x)).join(" ").includes(m));r(o),a(!0)}else r(e),a(!1)};return t.jsxs("div",{className:"table-utils-2",children:[t.jsx("label",{htmlFor:"dtb-search",children:"Search: "}),t.jsx("input",{type:"search",id:"dtb-search",name:"dtb-search",onChange:i=>d(i)})]})}A.propTypes={data:s.array.isRequired,handleDisplayedData:s.func.isRequired,handleIsSearching:s.func.isRequired};const L=({labels:e,data:r,minRows:a,maxRows:d,handleSort:i,sort:m})=>t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsx("tr",{children:e.map(o=>t.jsxs("th",{onClick:()=>i(o.value),children:[o.text,m.column===o.value?m.isDesc?" ðŸ”½":" ðŸ”¼":" â†•"]},o.value))})}),t.jsx("tbody",{children:r.map((o,h)=>t.jsx("tr",{children:e.map(f=>t.jsx("td",{children:o[f.value]},f.value))},h))})]});L.propTypes={labels:s.arrayOf(s.shape({text:s.string.isRequired,value:s.string.isRequired})).isRequired,data:s.arrayOf(s.object).isRequired,minRows:s.number.isRequired,maxRows:s.number.isRequired,handleSort:s.func.isRequired,sort:s.shape({column:s.string.isRequired,isDesc:s.bool.isRequired}).isRequired};const re=L,$=({minRows:e,maxRows:r,totalEntries:a,isSearching:d,minFilteredShow:i,maxFilteredShow:m,totalEntriesShow:o})=>t.jsx("div",{className:"table-footer",children:d?t.jsxs("div",{children:["Showing ",i," to ",m," of ",o," entries (filtered from ",a," total entries)"]}):t.jsxs("div",{children:["Showing ",e," to ",r," of ",a," entries"]})});$.propTypes={minRows:s.number.isRequired,maxRows:s.number.isRequired,totalEntries:s.number.isRequired,isSearching:s.bool.isRequired,minFilteredShow:s.number.isRequired,maxFilteredShow:s.number.isRequired,totalEntriesShow:s.number.isRequired};const ne=$;function B({currentPage:e,totalEntries:r,displayedEntries:a,handleClick:d}){const i=Math.ceil(r/a),m=new Array(i).fill(0),o=()=>{e>1&&d(e-1)},h=()=>{e<i&&d(e+1)};return t.jsxs("div",{className:"pagination",children:[t.jsx("button",{type:"button",onClick:o,className:e===1?"number number-disabled":"number",children:"Previous"}),m.map((f,x)=>t.jsx("button",{type:"button",onClick:()=>d(x+1),className:e===x+1?"number number-active":"number",children:x+1},se())),t.jsx("button",{type:"button",onClick:h,className:e===i||r===0?"number number-disabled":"number",children:"Next"})]})}B.propTypes={currentPage:s.number.isRequired,totalEntries:s.number.isRequired,displayedEntries:s.number.isRequired,handleClick:s.func.isRequired};const q=J.reduce((e,r,a)=>(e[r.label]=a,e),{});function M({labels:e,data:r}){const[a,d]=b.useState(1),[i,m]=b.useState(10),[o,h]=b.useState([]),[f,x]=b.useState(!1),[R,W]=b.useState({column:e[0].value||"",isDesc:!1});b.useEffect(()=>{const p=w(r),n=C(p,R.column,R.isDesc);h(n)},[R,r]);const j=a===1?1:(a-1)*i+1,S=a*i<o.length?a*i:o.length,z=p=>{m(parseInt(p.target.value)),d(1)},U=p=>{W(n=>{const u={column:p,isDesc:n.column===p?!n.isDesc:!1},T=C(o,u.column,u.isDesc);return h(T),u})},N=p=>{const n=new Date(p),u=n.getDate().toString().padStart(2,"0"),T=(n.getMonth()+1).toString().padStart(2,"0"),g=n.getFullYear();return`${T}/${u}/${g}`},w=p=>p.map(n=>({...n,birthDate:N(n.birthDate),startDate:N(n.startDate)})),C=(p,n,u)=>[...p].sort((g,D)=>{let y=g[n]!==void 0&&g[n]!==null?g[n]:"",v=D[n]!==void 0&&D[n]!==null?D[n]:"";if(n==="state"){const c=q[y]!==void 0?q[y]:-1,l=q[v]!==void 0?q[v]:-1;return c===-1?u?1:-1:l===-1?u?-1:1:u?l-c:c-l}if(n==="birthDate"||n==="startDate"){const c=new Date(y).getTime(),l=new Date(v).getTime();return u?l-c:c-l}if(n==="street"){const c=V=>{const P=V.match(/(\d+)/);return P?parseInt(P[0],10):0},l=c(y),E=c(v);return u?E-l:l-E}if(n==="firstName"||n==="lastName"){const c=y.toLowerCase(),l=v.toLowerCase();return u?c<l?1:c>l?-1:0:c<l?-1:c>l?1:0}return u?y>v?-1:1:y>v?1:-1}),H=w(r);return t.jsxs("div",{className:"MyTable",children:[t.jsxs("div",{className:"table-utils",children:[t.jsx(I,{value:i,handleChange:z}),t.jsx(A,{data:H,handleDisplayedData:h,handleIsSearching:x})]}),t.jsx(re,{labels:e,data:o.slice(j-1,S),minRows:j,maxRows:S,handleSort:U,sort:R}),t.jsxs("div",{className:"table-footer",children:[t.jsx(ne,{minRows:j,maxRows:S,totalEntries:r.length,isSearching:f,minFilteredShow:j,maxFilteredShow:S,totalEntriesShow:o.length}),t.jsx(B,{totalEntries:o.length,displayedEntries:i,handleClick:d,currentPage:a})]})]})}M.propTypes={labels:s.arrayOf(s.shape({text:s.string.isRequired,value:s.string.isRequired})).isRequired,data:s.arrayOf(s.object).isRequired};const ae=[{text:"First Name",value:"firstName"},{text:"Last Name",value:"lastName"},{text:"Start Date",value:"startDate"},{text:"Department",value:"department"},{text:"Date of birth",value:"birthDate"},{text:"Street",value:"street"},{text:"City",value:"city"},{text:"State",value:"state"},{text:"Zip Code",value:"zipCode"}],oe=ae;function le(){const e=Z(r=>r.employee.employees);return t.jsxs("div",{className:"employees",children:[t.jsx("h1",{className:"page-title",children:"Current Employees"})," ",t.jsx("div",{className:"table",children:t.jsx(M,{labels:oe,data:e})}),t.jsx("div",{className:"employees-link",children:t.jsx(G,{to:"/",className:"home-link",children:" â†© Home"})})]})}export{le as default};
