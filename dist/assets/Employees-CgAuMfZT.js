import{j as e,r as f,e as O,L as z}from"./index-DHL_5dYM.js";import{P as t,d as H}from"./index-DAafWnf7.js";const S=()=>`_${crypto.getRandomValues(new Uint32Array(1))[0].toString(36)}`,T=s=>s?s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim():"";function E({value:s,handleChange:r}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"table-utils-1",children:[e.jsx("label",{htmlFor:"choose-entries",children:"Show: "}),e.jsxs("select",{name:"choose-entries",id:"choose-entries",value:s,onChange:n=>r(n),children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]}),e.jsx("span",{children:" entries"})]})})}E.propTypes={value:t.number.isRequired,handleChange:t.func.isRequired};function P({data:s,handleDisplayedData:r,handleIsSearching:n}){const c=a=>{const m=T(a.target.value);if(m.length>0){const o=s.filter(h=>Object.values(h).map(l=>T(l)).join(" ").includes(m));r(o),n(!0)}else r(s),n(!1)};return e.jsxs("div",{className:"table-utils-2",children:[e.jsx("label",{htmlFor:"dtb-search",children:"Search: "}),e.jsx("input",{type:"search",id:"dtb-search",name:"dtb-search",onChange:a=>c(a)})]})}P.propTypes={data:t.array.isRequired,handleDisplayedData:t.func.isRequired,handleIsSearching:t.func.isRequired};function $({labels:s,data:r,minRows:n,maxRows:c,handleSort:a,sort:m,sortedData:o}){const{column:h,isDesc:v}=m;return e.jsxs("table",{className:"table-main",children:[e.jsx("caption",{className:"table-title",children:"Current Employees"}),e.jsx("thead",{children:e.jsx("tr",{className:"table-header-row",children:s.map(l=>e.jsx("th",{className:"table-header-cells",onClick:()=>a(l.value),children:e.jsxs("div",{className:"table-header-cell",children:[e.jsx("span",{children:l.text}),e.jsxs("div",{className:"sort-icons",children:[e.jsx("div",{className:h===l.value?v?"sort-icons-up icon-up-inactive":"sort-icons-up icon-up-active":"sort-icons-up"}),e.jsx("div",{className:h===l.value?v?"sort-icons-down icon-down-active":"sort-icons-down icon-inactive":"sort-icons-down"})]})]})},S()))})}),e.jsxs("tbody",{children:[o.length===0&&e.jsx("tr",{children:e.jsx("td",{className:"nodata",colSpan:s.length,children:"No data available in table"})}),r.map((l,j)=>j+1>=n&&j<c?e.jsx("tr",{className:"dtb-table-row",children:Object.values(l).map((w,y)=>e.jsx("td",{className:y===0?"dtb-table-cell first-cell":"dtb-table-cell",children:w},S()))},S()):null)]})]})}$.propTypes={labels:t.array.isRequired,data:t.array.isRequired,sortedData:t.array.isRequired,sort:t.object.isRequired,minRows:t.number.isRequired,maxRows:t.number.isRequired,handleSort:t.func.isRequired};function F({minRows:s,maxRows:r,totalEntries:n,isSearching:c,minFilteredShow:a,maxFilteredShow:m,totalEntriesShow:o}){return e.jsx("div",{className:"table-footer",children:n===0?e.jsx("p",{className:"table-footer-p"}):[c?e.jsx("span",{className:"table-footer-p",children:`Showing ${a} to ${m} of ${o} entries (filtered from ${n} total entries)`},"entries-filtered"):e.jsx("span",{className:"table-footer-p",children:`Showing ${s} to ${r} of ${n} entries`},"entries")]})}F.propTypes={minRows:t.number.isRequired,maxRows:t.number.isRequired,totalEntries:t.number.isRequired,minFilteredShow:t.number.isRequired,maxFilteredShow:t.number.isRequired,totalEntriesShow:t.number.isRequired,isSearching:t.bool};function A({currentPage:s,totalEntries:r,displayedEntries:n,handleClick:c}){const a=Math.ceil(r/n),m=new Array(a).fill(0),o=()=>{s>1&&c(s-1)},h=()=>{s<a&&c(s+1)};return e.jsxs("div",{className:"pagination",children:[e.jsx("button",{type:"button",onClick:o,className:s===1?"number number-disabled":"number",children:"Previous"}),m.map((v,l)=>e.jsx("button",{type:"button",onClick:()=>c(l+1),className:s===l+1?"number number-active":"number",children:l+1},S())),e.jsx("button",{type:"button",onClick:h,className:s===a||r===0?"number number-disabled":"number",children:"Next"})]})}A.propTypes={currentPage:t.number.isRequired,totalEntries:t.number.isRequired,displayedEntries:t.number.isRequired,handleClick:t.func.isRequired};const R=H.reduce((s,r,n)=>(s[r.label]=n,s),{});function k({labels:s,data:r}){const[n,c]=f.useState(1),[a,m]=f.useState(10),[o,h]=f.useState([]),[v,l]=f.useState(!1),[j,w]=f.useState({column:s[0].value||"",isDesc:!0});f.useEffect(()=>{const i=D(j.column);h(i)},[j,r]);const y=n===1?1:(n-1)*a+1,C=n*a<r.length?n*a:r.length,L=n===1?o.length>0?1:0:(n-1)*a+1,I=n*a<o.length?n*a:o.length,B=i=>{m(parseInt(i.target.value)),c(1)},M=i=>{w(p=>{const N={column:i,isDesc:p.column===i?!p.isDesc:!1},g=D(N.column,N.isDesc);return h(g),N})},D=(i,p=j.isDesc)=>(console.log(`Sorting by: ${i}, isDesc: ${p}`),[...r].sort((g,q)=>{let x=g[i]!==void 0&&g[i]!==null?g[i]:"",b=q[i]!==void 0&&q[i]!==null?q[i]:"";if(i==="state"){const u=R[x]!==void 0?R[x]:-1,d=R[b]!==void 0?R[b]:-1;return u===-1?p?1:-1:d===-1?p?-1:1:p?d-u:u-d}if(i==="birthDate"){const u=new Date(x).getTime(),d=new Date(b).getTime();return p?d-u:u-d}if(i==="firstName"||i==="lastName"){const u=x.toLowerCase(),d=b.toLowerCase();return p?u<d?1:u>d?-1:0:u<d?-1:u>d?1:0}return p?x<b?-1:x>b?1:0:x<b?1:x>b?-1:0}));return e.jsxs("div",{className:"MyTable",children:[e.jsxs("div",{className:"table-utils",children:[e.jsx(E,{value:a,handleChange:B}),e.jsx(P,{data:r,handleDisplayedData:h,handleIsSearching:l})]}),e.jsx($,{labels:s,data:o,minRows:y,maxRows:C,handleSort:M,sort:j,sortedData:o}),e.jsxs("div",{className:"table-footer",children:[e.jsx(F,{minRows:y,maxRows:C,totalEntries:r.length,isSearching:v,minFilteredShow:L,maxFilteredShow:I,totalEntriesShow:o.length}),e.jsx(A,{totalEntries:o.length,displayedEntries:a,handleClick:c,currentPage:n})]})]})}k.propTypes={labels:t.arrayOf(t.shape({text:t.string.isRequired,value:t.string.isRequired})).isRequired,data:t.arrayOf(t.object).isRequired};const U=[{text:"First Name",value:"firstName"},{text:"Last Name",value:"lastName"},{text:"Start Date",value:"startDate"},{text:"Department",value:"department"},{text:"Date of birth",value:"birthDate"},{text:"Street",value:"street"},{text:"City",value:"city"},{text:"State",value:"state"},{text:"Zip Code",value:"zipCode"}],V=U;function G(){const s=O(r=>r.employee.employees);return e.jsxs("div",{className:"employees",children:[e.jsx("div",{className:"table",children:e.jsx(k,{labels:V,data:s})}),e.jsx("div",{className:"employees-link",children:e.jsx(z,{to:"/",children:" â†© Home"})})]})}export{G as default};
